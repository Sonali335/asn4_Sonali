<!-- 
/****************************************************************************************** 
* ITE5315 – Assignment 2 
* I declare that this assignment is my own work in accordance with Humber Academic Policy. 
* No part of this assignment has been copied manually or electronically from any other source 
* (including web sites) or distributed to other students.  
*
* Name: ___SONALI___ Student ID: ____N01689474____ Date: ______OCT 24, 2025______  
*
*******************************************************************************************/  
-->

<h2>Search by Property ID</h2>

<!-- Form to input the property ID -->
<form method="POST" action="/searchID">
  <input type="text" name="id" placeholder="Enter Property ID" value="{{id}}">
  <button type="submit">Search</button>
</form>

<!-- Display validation errors -->
{{#if errors.length}}
  <div class="error-box">
    {{#each errors}}
      <p>⚠️ {{this.msg}}</p>
    {{/each}}
  </div>
{{/if}}

<!-- Message when no property is found -->
{{#if message}}
  <div class="error-box">
    <p>❌ {{message}}</p>
  </div>
{{/if}}

<!-- Display search results if property found -->
{{#if results.length}}
  <div class="property-details">
    {{#each results}}
      <h3>{{this.NAME}} — ID: {{this.id}}</h3>
      <div class="property-container" style="display:flex; gap:20px; margin-bottom:20px;">

        <!-- Property information -->
        <div class="property-info">
          <p><b>Neighbourhood:</b> {{this.neighbourhood}}</p>
          <p><b>Country:</b> {{this.country}}</p>
          <p><b>Instant Bookable:</b> {{this.instant_bookable}}</p>
          <p><b>Property Type:</b> {{this.property_type}}</p>
          <p><b>Price:</b> {{this.price}}</p>
        </div>

        <!-- Property image -->
        <div class="property-image">
          {{#if this.thumbnail}}
            <img src="{{this.thumbnail}}" alt="{{this.NAME}}" width="300">
          {{/if}}
        </div>
      </div>
    {{/each}}
  </div>
{{/if}}

<!-- Back button -->
<a href="/viewData" class="button">Back to All Properties</a>
